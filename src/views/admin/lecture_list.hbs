<div class="container py-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>Lectures: {{course.title}}</h2>
        <a href="/courses/{{course.course_id}}/lectures/new" class="btn btn-primary">Add New Lecture</a>
    </div>
    {{#if lectures.length}}
    <div class="list-group mb-4">
        {{#each lectures}}
        <div class="list-group-item">
            <div class="d-flex w-100 justify-content-between align-items-center">
                <div>
                    <h5 class="mb-1">{{this.title}}</h5>
                    <p class="mb-1">{{this.description}}</p>
                    {{#if this.is_preview}}
                    <span class="badge bg-info">Preview</span>
                    {{/if}}
                    {{#if this.time}}
                    <small class="text-muted">{{this.time}} minutes</small>
                    {{/if}}
                </div>
                <div class="btn-group">
                    <a href="/courses/{{../course.course_id}}/lectures/{{this.id}}/edit" class="btn btn-outline-secondary btn-sm">Edit</a>
                    <form action="/courses/{{../course.course_id}}/lectures/{{this.id}}/delete" method="POST" class="d-line" onsubmit="return confirm('Are you sure?');">
                        <button type="submit" class="btn btn-outline-danger btn-sm">Delete</button>
                    </form>
                </div>
            </div>
        </div>
        {{/each}}
    </div>
    {{else}}
    <div class="alert alert-info">
        No lectures yet. Start by adding your first lecture!
    </div>
    {{/if}}
    <div class="d-flex justify-content-between align-items-center">
        <a href="/courses/{{course.course_id}}/edit" class="btn btn-secondary">Back to Course</a>
        {{#if lectures.length}}
        <form action="/courses/{{course.course_id}}/complete" method="POST" class="d-inline">
            <button type="submit" class="btn btn-success" {{#if course.is_complete}}disabled{{/if}}>
                {{#if course.is_complete}}
                Course Complete
                {{else}}
                Mark Course as Complete
                {{/if}}
            </button>
        </form>
        {{/if}}
    </div>
</div>