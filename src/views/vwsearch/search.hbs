<link rel="stylesheet" href="/css/search.css" <!-- Search Header -->
<div class="search-header">
    <div class="container">
        <h1 class="text-center mb-4">Tìm Kiếm Khóa Học</h1>
        <form class="search-box" method="post" action="/courses/search">
            <div class="input-group">
                <input type="text" class="form-control" id="searchInput" name="searchInput"
                    placeholder="Tìm kiếm khóa học, giảng viên, chủ đề..." value="JavaScript">
                <button class="btn btn-warning" type="submit">
                    <i class="fas fa-search"></i> Tìm Kiếm
                </button>
            </div>
        </form>
    </div>
</div>

<!-- Search Results -->
<div class="container">
    <div class="row">
        <!-- Filter Sidebar -->
        <div class="col-lg-3">
            <div class="filter-sidebar">
                <h5 class="filter-title"><i class="fas fa-filter"></i> Bộ Lọc</h5>

                <div class="filter-group">
                    <h6>Danh Mục</h6>
                    {{#each categories}}
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="category" id="cat{{@index}}"
                            value="{{this.id}}">
                        <label class="form-check-label" for="cat{{@index}}">{{name}}</label>
                    </div>
                    {{/each}}
                </div>

                <div class="filter-group">
                    <h6>Giá</h6>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="price" id="priceAll" value="0" checked>
                        <label class="form-check-label" for="priceAll">Tất cả</label>
                    </div>
                    {{!-- <div class="form-check">
                        <input class="form-check-input" type="radio" name="price" id="priceFree" value="1">
                        <label class="form-check-label" for="priceFree">Miễn phí</label>
                    </div> --}}
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="price" id="pricePaid" value="2">
                        <label class="form-check-label" for="pricePaid">Giảm giá</label>
                    </div>
                </div>

                <div class="filter-group">
                    <h6>Đánh Giá</h6>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="rating45" value="4.5">
                        <label class="form-check-label" for="rating45">
                            <i class="fas fa-star text-warning"></i> 4.5 trở lên
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="rating4" value="4">
                        <label class="form-check-label" for="rating4">
                            <i class="fas fa-star text-warning"></i> 4.0 trở lên
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="rating35" value="3.5">
                        <label class="form-check-label" for="rating35">
                            <i class="fas fa-star text-warning"></i> 3.5 trở lên
                        </label>
                    </div>
                </div>

                <div class="filter-group">
                    <h6>Cấp Độ</h6>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="levelBeginner" value="beginner">
                        <label class="form-check-label" for="levelBeginner">Người mới bắt đầu</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="levelIntermediate" value="intermediate">
                        <label class="form-check-label" for="levelIntermediate">Trung cấp</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="levelAdvanced" value="advanced">
                        <label class="form-check-label" for="levelAdvanced">Nâng cao</label>
                    </div>
                </div>

                <button class="btn btn-primary w-100" onclick="applyFilters()">
                    <i class="fas fa-check"></i> Áp Dụng Lọc
                </button>
            </div>
        </div>

        <!-- Results -->
        <div class="col-lg-9">
            <div class="search-results-info">
                <h5>
                    Tìm thấy <strong id="resultCount">{{amount}}</strong> kết quả cho "<strong
                        id="searchQuery">{{q}}</strong>"
                </h5>
                <div class="mt-3">
                    <label class="me-2">Sắp xếp:</label>
                    <select class="form-select d-inline-block w-auto" id="sortBy" onchange="sortResults()">
                        <option value="relevance">Liên quan nhất</option>
                        <option value="newest">Mới nhất</option>
                        <option value="popular">Phổ biến nhất</option>
                        <option value="rating">Đánh giá cao nhất</option>
                        <option value="price-low">Giá thấp đến cao</option>
                        <option value="price-high">Giá cao đến thấp</option>
                    </select>
                </div>
            </div>

            <div class="row" id="coursesContainer">
                <!-- Course 1 -->
                {{#each course_card_search}}
                {{> course_card_search}}
                {{/each}}
                <!-- Pagination -->
                <nav aria-label="Page navigation" class="mt-4">
                    <ul class="pagination justify-content-center">
                        <li class="page-item disabled">
                            <a class="page-link" href="#" tabindex="-1">Trước</a>
                        </li>
                        <li class="page-item active"><a class="page-link" href="#">1</a></li>
                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                        <li class="page-item">
                            <a class="page-link" href="#">Sau</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>